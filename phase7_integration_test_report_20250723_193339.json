{
  "phase": "Phase 7 - Integration & Testing",
  "timestamp": "2025-07-23T19:33:39.882198",
  "execution_summary": {
    "total_execution_time_seconds": 20.72,
    "total_tests": 34,
    "passed": 30,
    "failed": 4,
    "errors": 0,
    "skipped": 0,
    "success_rate": 88.2,
    "setup_failed": false
  },
  "suite_results": {
    "environment_setup": {
      "total": 2,
      "passed": 2,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "database_integration": {
      "total": 5,
      "passed": 5,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "api_integration": {
      "total": 2,
      "passed": 1,
      "failed": 1,
      "errors": 0,
      "skipped": 0,
      "success_rate": 50.0
    },
    "automated_scoring": {
      "total": 14,
      "passed": 14,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "csv_analysis": {
      "total": 2,
      "passed": 2,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "user_story_validation": {
      "total": 2,
      "passed": 0,
      "failed": 2,
      "errors": 0,
      "skipped": 0,
      "success_rate": 0.0
    },
    "integration_points": {
      "total": 1,
      "passed": 1,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "error_handling": {
      "total": 1,
      "passed": 1,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "v1_compatibility": {
      "total": 2,
      "passed": 2,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    },
    "performance_testing": {
      "total": 1,
      "passed": 0,
      "failed": 1,
      "errors": 0,
      "skipped": 0,
      "success_rate": 0.0
    },
    "security_testing": {
      "total": 2,
      "passed": 2,
      "failed": 0,
      "errors": 0,
      "skipped": 0,
      "success_rate": 100.0
    }
  },
  "v2_specification_compliance": {
    "total_v2_requirements": 17,
    "validated_requirements": 6,
    "compliance_percentage": 35.3,
    "validated": {
      "AS-01a": "Sector Strength Scoring",
      "AS-02a": "Valuation Potential Scoring",
      "AS-03a": "CSV Parsing Requirements",
      "AS-05": "Omega Score State Management",
      "BR-07": "API Failure Handling",
      "BR-09": "CSV UI Requirements"
    },
    "missing": {
      "US-04": "Automated Project Ingestion",
      "US-06": "CSV Data Analysis",
      "AS-01": "Narrative Score Calculation",
      "AS-01b": "Backing & Team Default Score",
      "AS-01c": "Value Proposition Default Score",
      "AS-02": "Tokenomics Score Calculation",
      "AS-02b": "Token Utility Default Score",
      "AS-02c": "Supply Risk Scoring",
      "AS-03": "Data Score from CSV",
      "AS-03b": "Accumulation Signal Algorithm",
      "BR-06": "CoinGecko API Requirement"
    }
  },
  "environment_info": {
    "python_version": "3.10.4 (tags/v3.10.4:9d38120, Mar 23 2022, 23:13:41) [MSC v.1929 64 bit (AMD64)]",
    "platform": "win32",
    "cwd": "C:\\Users\\Hamza\\Downloads\\crypto_screener",
    "v2_dependencies": {
      "flask": true,
      "requests": true,
      "pandas": true,
      "scipy": true,
      "sqlalchemy": true,
      "redis": true,
      "celery": true
    },
    "database_available": true,
    "api_server_running": true
  },
  "detailed_results": [
    {
      "test_name": "V2 Dependencies Check",
      "suite": "environment_setup",
      "status": "passed",
      "execution_time_ms": 50,
      "message": "All dependencies available",
      "details": {
        "dependencies": {
          "flask": true,
          "requests": true,
          "pandas": true,
          "scipy": true,
          "sqlalchemy": true,
          "redis": true,
          "celery": true
        }
      },
      "error_trace": "",
      "requirements_validated": [
        "ENV-01"
      ]
    },
    {
      "test_name": "API Server Availability",
      "suite": "environment_setup",
      "status": "passed",
      "execution_time_ms": 100,
      "message": "API server is running",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "ENV-02"
      ]
    },
    {
      "test_name": "Database: Connection Tests",
      "suite": "database_integration",
      "status": "passed",
      "execution_time_ms": 500,
      "message": "Success rate: 100.0%",
      "details": {
        "tests_run": 4,
        "failures": 0,
        "errors": 0,
        "success_rate": 100.0,
        "failure_details": [],
        "error_details": []
      },
      "error_trace": "",
      "requirements_validated": [
        "DB-01",
        "DB-02",
        "DB-03"
      ]
    },
    {
      "test_name": "Database: Initialization Tests",
      "suite": "database_integration",
      "status": "passed",
      "execution_time_ms": 500,
      "message": "Success rate: 100.0%",
      "details": {
        "tests_run": 3,
        "failures": 0,
        "errors": 0,
        "success_rate": 100.0,
        "failure_details": [],
        "error_details": []
      },
      "error_trace": "",
      "requirements_validated": [
        "DB-01",
        "DB-02",
        "DB-03"
      ]
    },
    {
      "test_name": "Database: Migration Tests",
      "suite": "database_integration",
      "status": "passed",
      "execution_time_ms": 500,
      "message": "Success rate: 100.0%",
      "details": {
        "tests_run": 3,
        "failures": 0,
        "errors": 0,
        "success_rate": 100.0,
        "failure_details": [],
        "error_details": []
      },
      "error_trace": "",
      "requirements_validated": [
        "DB-01",
        "DB-02",
        "DB-03"
      ]
    },
    {
      "test_name": "Database: Model Tests",
      "suite": "database_integration",
      "status": "passed",
      "execution_time_ms": 500,
      "message": "Success rate: 100.0%",
      "details": {
        "tests_run": 4,
        "failures": 0,
        "errors": 0,
        "success_rate": 100.0,
        "failure_details": [],
        "error_details": []
      },
      "error_trace": "",
      "requirements_validated": [
        "DB-01",
        "DB-02",
        "DB-03"
      ]
    },
    {
      "test_name": "Database: Performance Tests",
      "suite": "database_integration",
      "status": "passed",
      "execution_time_ms": 500,
      "message": "Success rate: 100.0%",
      "details": {
        "tests_run": 3,
        "failures": 0,
        "errors": 0,
        "success_rate": 100.0,
        "failure_details": [],
        "error_details": []
      },
      "error_trace": "",
      "requirements_validated": [
        "DB-01",
        "DB-02",
        "DB-03"
      ]
    },
    {
      "test_name": "API Health Check",
      "suite": "api_integration",
      "status": "passed",
      "execution_time_ms": 2075,
      "message": "Health check returned 200",
      "details": {
        "database_available": true,
        "database_info": {
          "database_url": "sqlite:///C:\\Users\\Hamza\\Downloads\\crypto_screener\\data\\omega_v2.db",
          "engine_created": true,
          "environment": "development",
          "session_factory_created": false
        },
        "status": "healthy",
        "timestamp": "unknown",
        "v1_compatibility": true,
        "v2_dependencies_available": true,
        "version": "2.0.0"
      },
      "error_trace": "",
      "requirements_validated": [
        "API-01"
      ]
    },
    {
      "test_name": "Automated Projects API",
      "suite": "api_integration",
      "status": "failed",
      "execution_time_ms": 2039,
      "message": "API call failed: 500",
      "details": {},
      "error_trace": "",
      "requirements_validated": []
    },
    {
      "test_name": "Sector Strength: AI",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 9, got 9.0",
      "details": {
        "category": "AI",
        "expected": 9,
        "actual": 9.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: DePIN",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 9, got 9.0",
      "details": {
        "category": "DePIN",
        "expected": 9,
        "actual": 9.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: RWA",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 9, got 9.0",
      "details": {
        "category": "RWA",
        "expected": 9,
        "actual": 9.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: L1",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 7, got 7.0",
      "details": {
        "category": "L1",
        "expected": 7,
        "actual": 7.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: L2",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 7, got 7.0",
      "details": {
        "category": "L2",
        "expected": 7,
        "actual": 7.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: GameFi",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 7, got 7.0",
      "details": {
        "category": "GameFi",
        "expected": 7,
        "actual": 7.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Sector Strength: Other",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 4, got 4.0",
      "details": {
        "category": "Other",
        "expected": 4,
        "actual": 4.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-01a"
      ]
    },
    {
      "test_name": "Valuation Potential: $15,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 10, got 10.0",
      "details": {
        "market_cap": 15000000,
        "expected": 10,
        "actual": 10.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $30,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 9, got 9.0",
      "details": {
        "market_cap": 30000000,
        "expected": 9,
        "actual": 9.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $75,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 8, got 8.0",
      "details": {
        "market_cap": 75000000,
        "expected": 8,
        "actual": 8.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $150,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 7, got 7.0",
      "details": {
        "market_cap": 150000000,
        "expected": 7,
        "actual": 7.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $300,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 5, got 5.0",
      "details": {
        "market_cap": 300000000,
        "expected": 5,
        "actual": 5.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $750,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 1,
      "message": "Expected 3, got 3.0",
      "details": {
        "market_cap": 750000000,
        "expected": 3,
        "actual": 3.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "Valuation Potential: $1,500,000,000",
      "suite": "automated_scoring",
      "status": "passed",
      "execution_time_ms": 0,
      "message": "Expected 1, got 1.0",
      "details": {
        "market_cap": 1500000000,
        "expected": 1,
        "actual": 1.0
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-02a"
      ]
    },
    {
      "test_name": "CSV Validation",
      "suite": "csv_analysis",
      "status": "passed",
      "execution_time_ms": 2054,
      "message": "CSV validation passed",
      "details": {
        "error": null,
        "preview": {
          "columns": [
            "time",
            "close",
            "Volume Delta (Close)"
          ],
          "date_range": {
            "end": "2024-03-31T00:00:00",
            "start": "2024-01-01T00:00:00"
          },
          "preview_rows": 10,
          "sample_data": [
            {
              "Volume Delta (Close)": 1500,
              "close": 100.0,
              "time": "Mon, 01 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 1800,
              "close": 98.5,
              "time": "Tue, 02 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2100,
              "close": 97.2,
              "time": "Wed, 03 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 1900,
              "close": 96.8,
              "time": "Thu, 04 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2300,
              "close": 95.5,
              "time": "Fri, 05 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2000,
              "close": 94.3,
              "time": "Sat, 06 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2500,
              "close": 93.8,
              "time": "Sun, 07 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2200,
              "close": 92.9,
              "time": "Mon, 08 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2800,
              "close": 91.5,
              "time": "Tue, 09 Jan 2024 00:00:00 GMT"
            },
            {
              "Volume Delta (Close)": 2400,
              "close": 90.8,
              "time": "Wed, 10 Jan 2024 00:00:00 GMT"
            }
          ],
          "total_rows": 91
        },
        "requirements": {
          "column_descriptions": {
            "Volume Delta (Close)": "Volume delta value (buying pressure - selling pressure)",
            "close": "Closing price for each period",
            "time": "Date/timestamp for each data point"
          },
          "data_source": "TradingView CSV export with required indicators",
          "minimum_periods": 90,
          "required_columns": [
            "time",
            "close",
            "Volume Delta (Close)"
          ],
          "supported_formats": {
            "date_formats": [
              "YYYY-MM-DD",
              "MM/DD/YYYY",
              "DD.MM.YYYY",
              "auto-detection"
            ],
            "delimiters": [
              "comma (,)",
              "semicolon (;)",
              "tab"
            ],
            "numeric_format": "Decimal numbers (dots or commas as decimal separator)"
          }
        },
        "valid": true
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-03a",
        "BR-09"
      ]
    },
    {
      "test_name": "CSV Insufficient Data Validation",
      "suite": "csv_analysis",
      "status": "passed",
      "execution_time_ms": 2039,
      "message": "Correctly rejected insufficient data",
      "details": {
        "error": "Insufficient data: 30 periods found, minimum 90 required",
        "preview": null,
        "requirements": {
          "column_descriptions": {
            "Volume Delta (Close)": "Volume delta value (buying pressure - selling pressure)",
            "close": "Closing price for each period",
            "time": "Date/timestamp for each data point"
          },
          "data_source": "TradingView CSV export with required indicators",
          "minimum_periods": 90,
          "required_columns": [
            "time",
            "close",
            "Volume Delta (Close)"
          ],
          "supported_formats": {
            "date_formats": [
              "YYYY-MM-DD",
              "MM/DD/YYYY",
              "DD.MM.YYYY",
              "auto-detection"
            ],
            "delimiters": [
              "comma (,)",
              "semicolon (;)",
              "tab"
            ],
            "numeric_format": "Decimal numbers (dots or commas as decimal separator)"
          }
        },
        "valid": false
      },
      "error_trace": "",
      "requirements_validated": [
        "AS-03a"
      ]
    },
    {
      "test_name": "US-04: Automated Project Fetch",
      "suite": "user_story_validation",
      "status": "failed",
      "execution_time_ms": 2032,
      "message": "API call failed: 503",
      "details": {
        "status_code": 503
      },
      "error_trace": "",
      "requirements_validated": []
    },
    {
      "test_name": "US-06: CSV Analysis Setup",
      "suite": "user_story_validation",
      "status": "failed",
      "execution_time_ms": 100,
      "message": "No automated projects available for testing",
      "details": {},
      "error_trace": "",
      "requirements_validated": []
    },
    {
      "test_name": "State Transition Testing",
      "suite": "integration_points",
      "status": "passed",
      "execution_time_ms": 100,
      "message": "State transitions verified",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "AS-05",
        "INT-01"
      ]
    },
    {
      "test_name": "Invalid CSV Handling",
      "suite": "error_handling",
      "status": "passed",
      "execution_time_ms": 2038,
      "message": "Correctly rejected invalid CSV format",
      "details": {
        "error": "Missing required columns: time, close, Volume Delta (Close). Available columns: wrong, headers",
        "preview": null,
        "requirements": {
          "column_descriptions": {
            "Volume Delta (Close)": "Volume delta value (buying pressure - selling pressure)",
            "close": "Closing price for each period",
            "time": "Date/timestamp for each data point"
          },
          "data_source": "TradingView CSV export with required indicators",
          "minimum_periods": 90,
          "required_columns": [
            "time",
            "close",
            "Volume Delta (Close)"
          ],
          "supported_formats": {
            "date_formats": [
              "YYYY-MM-DD",
              "MM/DD/YYYY",
              "DD.MM.YYYY",
              "auto-detection"
            ],
            "delimiters": [
              "comma (,)",
              "semicolon (;)",
              "tab"
            ],
            "numeric_format": "Decimal numbers (dots or commas as decimal separator)"
          }
        },
        "valid": false
      },
      "error_trace": "",
      "requirements_validated": [
        "BR-07",
        "ERR-01"
      ]
    },
    {
      "test_name": "V1 Static File Serving",
      "suite": "v1_compatibility",
      "status": "passed",
      "execution_time_ms": 2082,
      "message": "Static files served with status 200",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "COMPAT-01"
      ]
    },
    {
      "test_name": "V1 Wizard Interface",
      "suite": "v1_compatibility",
      "status": "passed",
      "execution_time_ms": 50,
      "message": "V1 wizard interface is preserved",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "COMPAT-02"
      ]
    },
    {
      "test_name": "API Response Time",
      "suite": "performance_testing",
      "status": "failed",
      "execution_time_ms": 2041,
      "message": "API responded in 2041ms (requirement: <2000ms)",
      "details": {
        "response_time_ms": 2041,
        "requirement_ms": 2000
      },
      "error_trace": "",
      "requirements_validated": [
        "PERF-01"
      ]
    },
    {
      "test_name": "Input Validation",
      "suite": "security_testing",
      "status": "passed",
      "execution_time_ms": 50,
      "message": "Input validation mechanisms verified",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "SEC-01"
      ]
    },
    {
      "test_name": "SQL Injection Prevention",
      "suite": "security_testing",
      "status": "passed",
      "execution_time_ms": 50,
      "message": "SQL injection prevention verified",
      "details": {},
      "error_trace": "",
      "requirements_validated": [
        "SEC-02"
      ]
    }
  ]
}