# Project Omega V2 Environment Configuration
# Copy this file to .env and fill in your actual values
# =================================================================

# ENVIRONMENT DETECTION
# =================================================================
# Environment type: development, staging, production
ENVIRONMENT=development

# =================================================================
# API KEYS AND EXTERNAL SERVICES
# =================================================================

# CoinGecko API Configuration
# Free tier: 30 calls/minute | Pro tier: higher limits
# Get your API key from: https://www.coingecko.com/en/api
COINGECKO_API_KEY=your_coingecko_api_key_here

# DefiLlama API (Optional - for enhanced DeFi metrics)
# Currently free, no API key required
DEFILLAMA_API_ENABLED=true

# =================================================================
# DATABASE CONFIGURATION
# =================================================================

# Primary Database URL
# Development (SQLite): Fast setup, single file
# Production (PostgreSQL): Scalable, full-featured
DATABASE_URL=sqlite:///data/omega_v2.db

# PostgreSQL Production Example:
# DATABASE_URL=postgresql://username:password@localhost:5432/omega_v2
# DATABASE_URL=postgresql://username:password@localhost:5432/omega_v2?sslmode=require

# MySQL Alternative (if preferred):
# DATABASE_URL=mysql://username:password@localhost:3306/omega_v2

# Database Connection Pool Settings (PostgreSQL/MySQL only)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Database Debug and Logging
DB_ECHO=false

# Database Connection Details (Alternative to DATABASE_URL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=omega_v2
DB_USER=postgres
DB_PASSWORD=your_db_password_here

# =================================================================
# CELERY / REDIS CONFIGURATION (Background Tasks)
# =================================================================

# Redis URL for Celery message broker
REDIS_URL=redis://localhost:6379/0

# Redis connection details (alternative)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# Background Task Settings
ENABLE_BACKGROUND_TASKS=true
SCHEDULED_FETCH_ENABLED=true
SCHEDULED_FETCH_INTERVAL_HOURS=24
AUTO_CLEANUP_ENABLED=true
AUTO_CLEANUP_DAYS=30

# =================================================================
# FLASK APPLICATION SETTINGS
# =================================================================

# Flask Environment
FLASK_ENV=development
FLASK_DEBUG=true
FLASK_APP=src.main:app

# Security
SECRET_KEY=your_very_secure_secret_key_here_change_this_in_production
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# CORS Settings (for API access)
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,http://127.0.0.1:5000

# =================================================================
# API RATE LIMITING AND PERFORMANCE
# =================================================================

# Rate Limiting (requests per minute)
API_RATE_LIMIT_PER_MINUTE=60
COINGECKO_RATE_LIMIT_PER_MINUTE=30

# Cache Configuration
CACHE_TYPE=simple
CACHE_DEFAULT_TIMEOUT=300
CACHE_REDIS_URL=redis://localhost:6379/1

# Request Timeouts (seconds)
HTTP_TIMEOUT=30
API_TIMEOUT=60

# =================================================================
# LOGGING CONFIGURATION
# =================================================================

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log File Configuration
LOG_TO_FILE=true
LOG_FILE=logs/omega_v2.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Log Format
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Specific Logger Levels
SQLALCHEMY_LOG_LEVEL=WARNING
CELERY_LOG_LEVEL=INFO
REQUESTS_LOG_LEVEL=WARNING

# =================================================================
# DATA INGESTION SETTINGS
# =================================================================

# Project Filtering (for automated ingestion)
MIN_MARKET_CAP=1000000
MAX_MARKET_CAP=
MIN_VOLUME_24H=100000
MAX_PROJECTS_PER_INGESTION=1000

# Data Quality Filters
EXCLUDE_MEME_COINS=false
EXCLUDE_STABLECOINS=true
REQUIRE_ACTIVE_DEVELOPMENT=false

# CSV Analysis Settings
CSV_MIN_PERIODS=90
CSV_MAX_FILE_SIZE_MB=10
CSV_ANALYSIS_TIMEOUT_SECONDS=30

# =================================================================
# MONITORING AND HEALTH CHECKS
# =================================================================

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_MINUTES=5
DATABASE_HEALTH_CHECK_TIMEOUT=10

# Performance Monitoring
ENABLE_PERFORMANCE_METRICS=true
SLOW_QUERY_THRESHOLD_MS=1000

# Error Tracking (Optional - Sentry integration)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# =================================================================
# MIGRATION AND DEPLOYMENT SETTINGS
# =================================================================

# Migration Settings
AUTO_MIGRATE_ON_STARTUP=true
MIGRATION_TIMEOUT_SECONDS=300
ENABLE_MIGRATION_ROLLBACK=true

# V1 Compatibility
MAINTAIN_V1_COMPATIBILITY=true
V1_LOCALSTORAGE_MIGRATION=true

# =================================================================
# DEVELOPMENT AND TESTING
# =================================================================

# Development Tools
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILER=false
FLASK_RELOADER=true

# Testing Configuration
TESTING=false
TEST_DATABASE_URL=sqlite:///test_omega_v2.db

# Sample Data Generation
GENERATE_SAMPLE_DATA=false
SAMPLE_DATA_COUNT=50

# =================================================================
# PRODUCTION SPECIFIC SETTINGS
# =================================================================

# Security Headers
SECURE_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY_ENABLED=false

# SSL/TLS Settings
FORCE_HTTPS=false
SSL_DISABLE=false

# Server Configuration
HOST=0.0.0.0
PORT=5000
WORKERS=4

# Asset Management
STATIC_FILE_CACHING=true
STATIC_FILE_MAX_AGE=86400

# =================================================================
# FEATURE FLAGS
# =================================================================

# V2 Features
ENABLE_AUTOMATED_SCORING=true
ENABLE_CSV_ANALYSIS=true
ENABLE_BACKGROUND_INGESTION=true
ENABLE_API_V2=true

# Experimental Features
ENABLE_AI_SCORING=false
ENABLE_DEFI_METRICS=true
ENABLE_SOCIAL_SENTIMENT=false

# =================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =================================================================

# For Development (SQLite + Simple Setup):
# ENVIRONMENT=development
# DATABASE_URL=sqlite:///data/omega_v2.db
# REDIS_URL=redis://localhost:6379/0
# LOG_LEVEL=DEBUG
# FLASK_DEBUG=true

# For Production (PostgreSQL + Redis + Full Features):
# ENVIRONMENT=production
# DATABASE_URL=postgresql://user:pass@localhost:5432/omega_v2
# REDIS_URL=redis://localhost:6379/0
# LOG_LEVEL=INFO
# FLASK_DEBUG=false
# FORCE_HTTPS=true
# SECRET_KEY=your-very-secure-production-key

# For Docker Deployment:
# DATABASE_URL=postgresql://postgres:password@db:5432/omega_v2
# REDIS_URL=redis://redis:6379/0
# HOST=0.0.0.0
# PORT=5000